# ğŸ“˜ Auth æ¨¡å— API æ–‡æ¡£ï¼ˆæœ€ç»ˆç‰ˆï¼‰

## åŸºç¡€è¯´æ˜

### **æ¥å£ URL å‰ç¼€**

```
/api/auth
```

### **ç»Ÿä¸€å“åº”æ ¼å¼ï¼ˆæ‰€æœ‰æ¥å£éµå¾ªï¼‰**

```json
{
  "code": 0,            // 0 è¡¨ç¤ºæˆåŠŸï¼Œå…¶ä»–ä¸ºé”™è¯¯ç 
  "message": "success", // æˆåŠŸæˆ–é”™è¯¯ä¿¡æ¯
  "data": {} | null     // è¿”å›æ•°æ®
}
```

### **é”™è¯¯ç è§„èŒƒ**

| code | å«ä¹‰                |
|------| ----------------- |
| 200  | æˆåŠŸ                |
| 400  | å‚æ•°é”™è¯¯ / ä¸šåŠ¡å¼‚å¸¸       |
| 401  | æœªç™»å½• / token æ— æ•ˆæˆ–è¿‡æœŸ |
| 403  | æ— æƒé™               |
| 500  | æœåŠ¡å™¨é”™è¯¯             |

---

# 1. **å­¦ç”Ÿæ³¨å†Œæ¥å£**

## **POST /api/auth/register**

### æè¿°

* å­¦ç”Ÿè‡ªè¡Œæ³¨å†Œè´¦å·
* æ³¨å†ŒæˆåŠŸåéœ€è¦æ‰‹åŠ¨ç™»å½•
* role å›ºå®šä¸º `"student"`

---

### è¯·æ±‚å‚æ•°ï¼ˆJSONï¼‰

```json
{
  "username": "20240123",
  "password": "123456"
}
```

å­—æ®µè¯´æ˜ï¼š

| å­—æ®µ       | å¿…å¡« | è¯´æ˜              |
| -------- | -- | --------------- |
| username | æ˜¯  | ç”¨æˆ·åï¼ˆé€šå¸¸ä¸ºå­¦å·ï¼‰ï¼Œéœ€è¦å”¯ä¸€ |
| password | æ˜¯  | ç™»å½•å¯†ç             |

---

### å“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•",
  "data": null
}
```

---

### å“åº”ï¼ˆå¤±è´¥ç¤ºä¾‹ï¼‰

ç”¨æˆ·åå·²å­˜åœ¨ï¼š

```json
{
  "code": 400,
  "message": "ç”¨æˆ·åå·²å­˜åœ¨",
  "data": null
}
```

---

# 2. **ç™»å½•æ¥å£**

## **POST /api/auth/login**

### æè¿°

* ç”¨æˆ·ç™»å½•ï¼ˆå­¦ç”Ÿ/è€å¸ˆ/ç®¡ç†å‘˜ï¼‰
* è¿”å› JWT Token
* Token é€šè¿‡å‰ç«¯ä¿å­˜ï¼ˆpiniaï¼‰

---

### è¯·æ±‚å‚æ•°ï¼ˆJSONï¼‰

```json
{
  "username": "20240123",
  "password": "123456"
}
```

---

### å“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "20240123",
      "role": "student"
    }
  }
}
```

---

### å“åº”ï¼ˆå¤±è´¥ç¤ºä¾‹ï¼‰

ç”¨æˆ·å/å¯†ç é”™è¯¯ï¼š

```json
{
  "code": 400,
  "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
  "data": null
}
```


---

# 3. **é€€å‡ºæ¥å£**

## **POST /api/auth/logout**

### æè¿°

* å‰ç«¯è¯·æ±‚é€€å‡ºç™»å½•
* åç«¯ç›´æ¥é€€å‡º

---

### è¯·æ±‚å¤´

```
Authorization: Bearer <token>
```

---

### å“åº”ï¼ˆæˆåŠŸï¼‰

```json
{
  "code": 200,
  "message": "é€€å‡ºæˆåŠŸ",
  "data": null
}
```

---